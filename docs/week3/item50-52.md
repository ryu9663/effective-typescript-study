# ğŸ“‚ [Week 3] Item 50~52: ì¡°ê±´ë¶€ íƒ€ì…ê³¼ ì˜ì¡´ì„±, ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸

## ğŸ·ï¸ Metadata
- **í•™ìŠµì¼:** 2026ë…„ 1ì›” 12ì¼
- **ì£¼ì°¨:** #Week3 
- **í‚¤ì›Œë“œ:** #ì¡°ê±´ë¶€íƒ€ì… #ì˜¤ë²„ë¡œë”© #ë¯¸ëŸ¬íƒ€ì… #ì˜ì¡´ì„±ë¶„ë¦¬ #íƒ€ì…í…ŒìŠ¤íŠ¸ #dtslint

## ğŸš€ í•µì‹¬ ìš”ì•½
> [!abstract] ì´ ì„¹ì…˜ì˜ í•µì‹¬ í•œ ì¤„ 
> "ì˜¤ë²„ë¡œë”© ëŒ€ì‹  ì¡°ê±´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ì •ë°€í•¨ì„ ë†’ì´ê³ , ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±ì„ ëŠê¸° ìœ„í•´ êµ¬ì¡°ì  íƒ€ì´í•‘(ë¯¸ëŸ¬ íƒ€ì…)ì„ í™œìš©í•˜ë©°, íƒ€ì… ìì²´ê°€ ì˜¬ë°”ë¥¸ì§€ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤."

## âœï¸ ì£¼ìš” ë‚´ìš© ì •ë¦¬
### Item 50. ì˜¤ë²„ë¡œë”©ë³´ë‹¤ëŠ” ì¡°ê±´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸°
- **ì˜¤ë²„ë¡œë”©ì˜ í•œê³„**: 
    - í•¨ìˆ˜ ì˜¤ë²„ë¡œë”©ì€ ì—¬ëŸ¬ ë§¤ê°œë³€ìˆ˜ ì¡°í•©ì„ ë‚˜ì—´í•  ìˆ˜ ìˆì§€ë§Œ, 
    - êµ¬í˜„ì²´ì—ì„œ íƒ€ì…ì„ ë¶„ê¸° ì²˜ë¦¬í•´ì•¼í•˜ê³ , íƒ€ì…ì´ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ë­‰ëš±ê·¸ë ¤ì§€ëŠ” ê²½ìš°ê°€ ë§ì•„ ì •ë°€í•œ ì¶”ë¡ ì´ ì–´ë ¤ì›€
    - ë‚´ë¶€ ë¡œì§ì—ì„œ if/elseë‚˜ typeof ë“±ì„ ì‚¬ìš©í•´ ì¼ì¼ì´ ì¢í˜€ì•¼(Narrowing) í•¨
```typescript
// ì„ ì–¸ë¶€ - í•¨ìˆ˜ ì˜¤ë²„ë¡œë”©ìœ¼ë¡œ ì¸í•´ ê²‰ëª¨ìŠµì€ ê¹”ë”í•¨
function transform(value: string): string[];    // ë¬¸ìì—´ì´ë©´ ë°°ì—´ë¡œ
function transform(value: number): number;      // ìˆ«ìë©´ ìˆ«ìë¡œ
function transform(value: boolean): string;     // ë¶ˆë¦¬ì–¸ì´ë©´ ë¬¸ìì—´ë¡œ
  
// êµ¬í˜„ë¶€ - ì‹¤ì œ ë™ì‘ì€ ë³µì¡í•˜ê³  ì§€ì €ë¶„í•¨
// êµ¬í˜„ ì‹œê·¸ë‹ˆì²˜ëŠ” ìœ„ì˜ ëª¨ë“  íƒ€ì…ì„ í¬í•¨í•´ì•¼ í•¨ (string | number | boolean)
function transform(value: string | number | boolean): string[] | number | string {
	// ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì— ë”°ë¼ ë‚´ë¶€ì—ì„œ ì¼ì¼ì´ ë¶„ê¸° ì²˜ë¦¬ë¥¼ í•´ì•¼í•˜ëŠ” í•œê³„ê°€ ìˆìŒ (íƒ€ì… ë¶„ê¸° ì²˜ë¦¬ì˜ ì–´ë ¤ì›€)
	if (typeof value === 'string') {
        return [value];
    } else if (typeof value === 'number') {
        return value * 2;
    } else if (typeof value === 'boolean') {
        return value ? "Yes" : "No";
    }
    throw new Error("ì§€ì›í•˜ì§€ ì•ŠëŠ” íƒ€ì…");
}
```
- **ì¡°ê±´ë¶€ íƒ€ì…ì˜ ê°•ì **: `T extends U ? X : Y` í˜•íƒœë¥¼ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ íƒ€ì…ì— ë”°ë¼ ì¶œë ¥ íƒ€ì…ì„ ì •í™•í•˜ê²Œ ê²°ì •í•  ìˆ˜ ìˆìŒ
	- ì¡°ê±´ë¶€ íƒ€ì…ì€ JavaScriptì— ìˆëŠ” ì‚¼í•­ ì—°ì‚°ì ì¡°ê±´ë¬¸ (`condition ? trueExpression : falseExpression`) ê°™ì€ í˜•íƒœë¥¼ ê°€ì§ 
    - ì…ë ¥ íƒ€ì… Tê°€ ë³€í•¨ì— ë”°ë¼ ë°˜í™˜ íƒ€ì…ë„ 'ê³µì‹'ì²˜ëŸ¼ ê³„ì‚°ë˜ì–´ ë°”ë€œ
    - ì…ë ¥ê°’(T)ì— ë”°ë¼ ì¶œë ¥ê°’ì˜ íƒ€ì…(X or Y)ì„ ìë™ìœ¼ë¡œ ë°”ê¿”ì£¼ëŠ” ê³µì‹ === ì¡°ê±´ë¶€ íƒ€ì…
```typescript
// Tê°€ stringì„ ìƒì†ë°›ìœ¼ë©´(stringì´ë©´) "StringFound" íƒ€ì…, ì•„ë‹ˆë©´ "NotFound" íƒ€ì… ë°˜í™˜
type CheckType<T> = T extends string ? "StringFound" : "NotFound";

type Result1 = CheckType<"hello">; // "StringFound"
type Result2 = CheckType<123>;     // "NotFound"
type Result3 = CheckType<true>;    // "NotFound"
```
- **ê²°ë¡ **: ë‹¨ìˆœíˆ íƒ€ì… ì„ ì–¸ì„ ì—¬ëŸ¬ ë²ˆ ì“°ëŠ” ê²ƒë³´ë‹¤, ì¡°ê±´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ìœ ì—°í•¨ì„ íƒ€ì… ì‹œìŠ¤í…œì— ê·¸ëŒ€ë¡œ ë°˜ì˜í•˜ë©´ì„œë„ íƒ€ì… ì•ˆì „ì„±ì„ ì§€í‚¬ ìˆ˜ ìˆìŒ

### Item 51. ì˜ì¡´ì„± ë¶„ë¦¬ë¥¼ ìœ„í•´ ë¯¸ëŸ¬ íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸°
- ì˜ì¡´ì„± ë¶„ë¦¬
    - ê°ì²´ë“¤ì´ ì„œë¡œ ì§ì ‘ ì˜ì¡´í•˜ê¸°ë³´ë‹¤ ì¶”ìƒí™”(ì¸í„°í˜ì´ìŠ¤)ë¥¼ í†µí•´ ëŠìŠ¨í•˜ê²Œ ì—°ê²°ë˜ë„ë¡ í•˜ì—¬ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³  ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ëŠ” ê²ƒì„ ë§í•¨
    - ë³€ê²½ì— ëŒ€í•œ ì˜í–¥ì„ ìµœì†Œí™”í•˜ê³  ì½”ë“œì˜ ìœ ì—°ì„±ê³¼ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì„ í–¥ìƒ
- **ë¬¸ì œì **
    - ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‘ì„±í•  ë•Œ íŠ¹ì • í™˜ê²½(NodeJSì˜ `Buffer`, DOMì˜ `File`)ì˜ íƒ€ì… ì •ì˜(`@types/node` ë“±)ì— ì˜ì¡´í•˜ë©´, í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ê·¸ ì˜ì¡´ì„±ì„ ê°•ì œë¡œ ê°–ê²Œë¨ 
    - ì›¹ í”„ë¡œì íŠ¸ì— ë¶ˆí•„ìš”í•œ Node íƒ€ì…ì´ í¬í•¨ë  ìˆ˜ ìˆìŒ
- **ë¯¸ëŸ¬ íƒ€ì…(Mirror Types)**: í•„ìš”í•œ ë©”ì„œë“œë‚˜ ì†ì„±ë§Œ ê°€ì§„ ìµœì†Œí•œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§ì ‘ ì •ì˜í•˜ì—¬ ì‚¬ìš©
    - Buffer ì „ì²´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëŒ€ì‹  í•„ìš”í•œ ê¸°ëŠ¥(toString)ë§Œ ê°€ì§„ ê°€ì§œ(Mirror) ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜

```typescript
// ë¼ì´ë¸ŒëŸ¬ì´ì— ì˜ì¡´í•˜ëŠ” ì½”ë“œ ì˜ˆì‹œ
// Node.jsì˜ íƒ€ì…ì„ ì“°ê¸° ìœ„í•´ @types/nodeë¥¼ ì„¤ì¹˜í•´ì•¼ í•¨
// ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ëŠ” ì‚¬ëŒì€ ì›¹ ê°œë°œìì¼ ìˆ˜ë„ ìˆëŠ”ë° ê°•ì œë¡œ Node íƒ€ì… ì •ì˜ë¥¼ ë‹¤ìš´ë¡œë“œë°›ê²Œ ë¨
import { Buffer } from "buffer"; 

export function parseCSV(contents: string | Buffer): object[] {
    if (typeof contents === "object") {
        // Bufferì˜ ë©”ì„œë“œ ì‚¬ìš©
        return parseCSV(contents.toString("utf8"));
    }
    return [];
}
```
```typescript
// ## ë¯¸ëŸ¬ íƒ€ì… ì •ì˜
// Node.jsì˜ Bufferë¥¼ importí•˜ì§€ ì•Šê³ , 
// í•„ìš”í•œ êµ¬ì¡°(toString ë©”ì„œë“œ)ë§Œ ì •ì˜í•œ ì¸í„°í˜ì´ìŠ¤ ìƒì„±
interface CsvBuffer {
    toString(encoding?: string): string;
}

// ì˜ì¡´ì„± ë¶„ë¦¬
// ë§¤ê°œë³€ìˆ˜ëŠ” Nodeì˜ Bufferê°€ ì•„ë‹ˆë¼ ë§Œë“  CsvBuffer(ë¯¸ëŸ¬ íƒ€ì…)ì„ ë°›ìŒ
export function parseCSV(contents: string | CsvBuffer): object[] {
    if (typeof contents === "object") {
        // ì‹¤ì œ Buffer ê°ì²´ë„ 'toString'ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ í†µê³¼í•¨!
        return parseCSV(contents.toString("utf8"));
    }
    return [];
}
```
- **êµ¬ì¡°ì  íƒ€ì´í•‘ í™œìš©**: íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” êµ¬ì¡°ì  íƒ€ì´í•‘ì„ ë”°ë¥´ë¯€ë¡œ, `Buffer`ì™€ í˜¸í™˜ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ë©´ `Buffer` ê°ì²´ë¥¼ ë°›ì•„ë„ ë¬¸ì œì—†ì´ ë™ì‘í•˜ê¸°ì— `@types` ì˜ì¡´ì„±ì„ ì œê±°ê°€ ê°€ëŠ¥
```typescript
// ## êµ¬ì¡°ì  íƒ€ì…í•‘
// Node.js ì˜ Buffer ë¥¼ import í•¨
import { parseCSV } from "../ìœ„ì—ì½”ë“œimport";
import { Buffer } from "buffer";

const fileData = Buffer.from("name,age\nPark,20");

// parseCSVëŠ” 'CsvBuffer'ë¥¼ ì›í•œë‹¤ê³  ê°€ì •. fileDataëŠ” 'Buffer'
// í•˜ì§€ë§Œ 'Buffer' ì•ˆì—ëŠ” 'toString()' ë©”ì„œë“œê°€ ìˆìœ¼ë¯€ë¡œ TypeScriptëŠ” êµ¬ì¡°ê°€ ë§ë‹¤ê³  íŒë‹¨í•˜ì—¬ í†µê³¼
parseCSV(fileData);
```
### Item 52. í…ŒìŠ¤íŠ¸ íƒ€ì…ì˜ í•¨ì •ì— ì£¼ì˜í•˜ê¸°
- **ê°’ í…ŒìŠ¤íŠ¸ vs íƒ€ì… í…ŒìŠ¤íŠ¸**: í•¨ìˆ˜ê°€ ëŸ°íƒ€ì„ì— ì—ëŸ¬ ì—†ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ì¶©ë¶„í•˜ì§€ ì•ŠìŒ. ë°˜í™˜ê°’ì˜ **íƒ€ì…**ì´ ì˜ë„í•œ ëŒ€ë¡œ ì¶”ë¡ ë˜ëŠ”ì§€ í™•ì¸ì´ í•„ìš”í•¨
- **ì„ì‹œ ë³€ìˆ˜ í• ë‹¹ ë¬¸ì œ**: ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” `any` íƒ€ì…ì„ ê±¸ëŸ¬ë‚´ì§€ ëª»í•  ìˆ˜ ìˆìŒ
- **ë¶ˆí•„ìš”í•œ íƒ€ì… ë‹¨ì–¸ ë¬¸ì œ**: `as`ë¥¼ ì‚¬ìš©í•˜ë©´ í…ŒìŠ¤íŠ¸ê°€ ë¬´ì¡°ê±´ í†µê³¼ë˜ë¯€ë¡œ í”¼í•´ì•¼í•¨
```typescript
// ë²„ê·¸ê°€ ìˆëŠ” í•¨ìˆ˜ (ë°˜í™˜ íƒ€ì…ì´ anyë¡œ ì¶”ë¡ ë¨)
// number[]ë¥¼ ë°˜í™˜í• ê²ƒì„ ì˜ë„í•˜ì˜€ìœ¼ë‚˜, anyë¥¼ ë°˜í™˜í•˜ì—¬ íƒ€ì… ì•ˆì „ì„±ì´ ê¹¨ì§€ëŠ” ìƒí™©
function double(arr: number[]): any {
    return arr.map(x => x * 2);     // [2, 4, 6]
    return arr.map(x => String(x)); // ['2', '4', '6']
}
```
- ìœ„ ì½”ë“œì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ
```typescript
test('double í•¨ìˆ˜ íƒ€ì… í…ŒìŠ¤íŠ¸', () => {
  const result = double([1, 2, 3]); // resultëŠ” 'any' íƒ€ì…ì´ê³  ê²°ê³¼ëŠ” [2, 4, 6] ë˜ëŠ” ['2', '4', '6'] ê°€ ì˜¬ ìˆ˜ ìˆìŒ

    // resultê°€ 'any'ë¼ì„œ number[] íƒ€ì…ì— ['2', '4', '6'] ê°€ ë“¤ì–´ì™€ë„ ì—ëŸ¬ê°€ ì•ˆ ë‚¨!
    // íƒ€ì…ì´ ë§ê°€ì¡ŒëŠ”ë° í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•´ë²„ë¦¼ (False Positive)  
    const checkedResult: number[] = result;
    // íƒ€ì…ì´ ë§ëŠ”ì§€ í™•ì¸í•´ë³´ê³  ì‹¶ì–´ì„œ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ì„ì‹œë¡œ ë§Œë“  ë³€ìˆ˜
    // result ê°’ì„ ì´ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” í–‰ìœ„ë¡œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì—ëŸ¬ë¥¼ ë±‰ëŠ”ì§€ í™•ì¸í•˜ë ¤ëŠ” ì˜ë„
});

test('ë‹¨ì–¸ì„ ì‚¬ìš©í•œ ì˜ëª»ëœ í…ŒìŠ¤íŠ¸', () => {
    const result = double([1, 2, 3]);
    // ê°•ì œë¡œ number[]ë¡œ ë‹¨ì–¸(as)í•˜ë©´ ë‹¹ì—°íˆ í†µê³¼ê°€ ë˜ë©° resultê°€ string[]ì´ì–´ë„ í†µê³¼ë¨
    expect(result as number[]).toEqual([2, 4, 6]); 
});

```
- ë¬¸ì œì´ì í•´ê²°ì±…ì¸ ì œë„¤ë¦­ í—¬í¼ í•¨ìˆ˜(`assertType<T>`)ë¥¼ ë§Œë“¤ì–´ íƒ€ì… ì¼ì¹˜ ì—¬ë¶€ ê²€ì‚¬
    - TëŠ” number[]ê°€ ë¨
    - TypeScriptì—ì„œ any íƒ€ì…ì€ ëª¨ë“  íƒ€ì…(T)ì˜ ì„œë¸Œíƒ€ì…ìœ¼ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆê³ , ë™ì‹œì— ëª¨ë“  íƒ€ì…ì˜ ìƒìœ„íƒ€ì…ìœ¼ë¡œë„ ë™ì‘í•˜ëŠ” 'ì¡°ì»¤'ì„
    - x ìë¦¬ì— anyê°€ ë“¤ì–´ì˜¤ë©´, TypeScriptëŠ” number[] ìë¦¬ì— ì¡°ì»¤(any)ê°€ ì™”ë‹¤ê³  íŒë‹¨í•˜ì—¬ í†µê³¼ì‹œí‚´
    - any ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ê´œì°®ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë  ê²ƒì„
```typescript
// í•¨ìˆ˜ê°€ stringì„ ë°˜í™˜í•˜ì§€ë§Œ assertType ì—ì„œëŠ” numberë¥¼ ì›í•˜ì—¬ ì—ëŸ¬ ë°œìƒê°€ ë°œìƒí•¨
function getName(): string { return "Kim"; }
assertType<number>(getName());

// í•¨ìˆ˜ê°€ anyë¥¼ ë°˜í™˜í•˜ë©° assertType ì—ì„œëŠ” numberë¥¼ ì›í•˜ì§€ë§Œ anyëŠ” ëª¨ë“  íƒ€ì…ê³¼ í˜¸í™˜ëœë‹¤ëŠ” ê·œì¹™ìœ¼ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ
// number ì™€ any ì–‘ë°©í–¥ í”„ë¦¬íŒ¨ìŠ¤, ì–‘ë°©í–¥ ì„œë¸Œíƒ€ì… / (number -> unknown (ê°€ëŠ¥: ì—…ìºìŠ¤íŒ…), unknown -> number (ë¶ˆê°€ëŠ¥: ë‹¤ìš´ìºìŠ¤íŒ… ê¸ˆì§€))
function getAnything(): any { return "Kim"; }
assertType<number>(getAnything());

// -- ì ˆì·¨ì„  -- 

// íƒ€ì… ê²€ì‚¬ë¥¼ ìœ„í•œ ì „ìš© í—¬í¼ í•¨ìˆ˜
// Tì™€ xì˜ íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ”ì§€ ì²´í¬
function assertType<T>(x: T) {}
test('ì˜¬ë°”ë¥¸ íƒ€ì… í…ŒìŠ¤íŠ¸', () => {
    const result = double([1, 2, 3]); // í˜„ì¬ íƒ€ì…ì€ any ì„

    // anyëŠ” ì–´ë””ë“  í• ë‹¹ ê°€ëŠ¥í•˜ë¯€ë¡œ 'any'ëŠ” í†µê³¼ë¨
    // assertTypeì€ ì¼ë°˜ì ì¸ íƒ€ì… ë¶ˆì¼ì¹˜ëŠ” ì˜ ì¡ì§€ë§Œ í•¨ìˆ˜ê°€ anyë¥¼ ë°˜í™˜í•˜ëŠ” ê²½ìš°ì—ëŠ” ì˜ í†µê³¼ë¨
    assertType<number[]>(result); 
});
```
- **í•´ê²°ì±…**:
    - `dtslint` ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì… ìì²´ë¥¼ ë¬¸ìì—´ë¡œ ë¹„êµ
```typescript
// dtslintë¥¼ ì‚¬ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸ íŒŒì¼ (.ts)

const result = double([1, 2, 3]);
// ì£¼ì„ì„ í†µí•´ ê¸°ëŒ€ê°’ íƒ€ì… ëª…ì‹œ (jsì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ flow ê°€ ìˆìŒ)
// $ExpectType number[]
result; 
// ì‹¤ì œë¡œëŠ” resultê°€ 'any'ì´ë¯€ë¡œ, dtslintëŠ” ì—¬ê¸°ì„œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚´ ("Expected type 'number[]', but got 'any'")
```

- https://github.com/microsoft/dtslint?tab=readme-ov-file (deprecated)
- https://github.com/microsoft/DefinitelyTyped-tools ()
